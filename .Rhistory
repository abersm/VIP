y_axis_title = "Number of study participants"
)
rct %>%
mutate(
n = case_when(
is.na(n_vax) ~ n_control,
is.na(n_control) ~ n_vax,
.default = n_vax + n_control
),
pathogen_type = case_when(
is.na(pathogen_type) ~ "Other",
grepl("Bacteria", pathogen_type) & grepl("Virus", pathogen_type) ~ "Bacteria/virus",
grepl(", ", pathogen_type) ~ "Other",
.default = pathogen_type
),
pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Bacteria/virus", "Mycobacteria", "Fungus", "Parasite", "Other"))
) %>%
group_by(pathogen_type, decade_published) %>%
summarize(n = sum(n, na.rm = TRUE), .groups = "drop") %>%
plot_line_mean(
formula = n ~ decade_published,
grouping_var = "pathogen_type",
colors = c("#2F63A1", "#EB75B9", "#6BBBF4", "#EFC000", "grey80", "#107F80", "#A48AD3"),
point_size = 3,
aspect_ratio = 0.5,
x_angle = 45,
x_axis_title = "Decade of publication",
y_scale = "log10",
y_axis_title = "Number of study participants"
)
rct %>%
mutate(
n = case_when(
is.na(n_vax) ~ n_control,
is.na(n_control) ~ n_vax,
.default = n_vax + n_control
),
pathogen_type = case_when(
is.na(pathogen_type) ~ "Other",
grepl("Bacteria", pathogen_type) & grepl("Virus", pathogen_type) ~ "Bacteria/virus",
grepl(", ", pathogen_type) ~ "Other",
.default = pathogen_type
),
pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Bacteria/virus", "Mycobacteria", "Fungus", "Parasite", "Other"))
) %>%
group_by(pathogen_type, decade_published) %>%
summarize(n = sum(n, na.rm = TRUE), .groups = "drop") %>%
plot_line_mean(
formula = n ~ decade_published,
grouping_var = "pathogen_type",
colors = c("#2F63A1", "#EB75B9", "#6BBBF4", "#EFC000", "grey80", "#107F80", "#A48AD3"),
point_size = 3,
aspect_ratio = 0.5,
x_angle = 45,
show_legend = TRUE
x_axis_title = "Decade of publication",
rct %>%
mutate(
n = case_when(
is.na(n_vax) ~ n_control,
is.na(n_control) ~ n_vax,
.default = n_vax + n_control
),
pathogen_type = case_when(
is.na(pathogen_type) ~ "Other",
grepl("Bacteria", pathogen_type) & grepl("Virus", pathogen_type) ~ "Bacteria/virus",
grepl(", ", pathogen_type) ~ "Other",
.default = pathogen_type
),
pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Bacteria/virus", "Mycobacteria", "Fungus", "Parasite", "Other"))
) %>%
group_by(pathogen_type, decade_published) %>%
summarize(n = sum(n, na.rm = TRUE), .groups = "drop") %>%
plot_line_mean(
formula = n ~ decade_published,
grouping_var = "pathogen_type",
colors = c("#2F63A1", "#EB75B9", "#6BBBF4", "#EFC000", "grey80", "#107F80", "#A48AD3"),
point_size = 3,
aspect_ratio = 0.5,
x_angle = 45,
show_legend = TRUE,
x_axis_title = "Decade of publication",
y_scale = "log10",
y_axis_title = "Number of study participants"
)
rct %>%
mutate(
n = case_when(
is.na(n_vax) ~ n_control,
is.na(n_control) ~ n_vax,
.default = n_vax + n_control
),
pathogen_type = case_when(
is.na(pathogen_type) ~ "Other",
#grepl("Bacteria", pathogen_type) & grepl("Virus", pathogen_type) ~ "Bacteria/virus",
grepl(", ", pathogen_type) | pathogen_type == "Fungus" ~ "Other/multiple",
.default = pathogen_type
),
pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Bacteria/virus", "Mycobacteria", "Fungus", "Parasite", "Other"))
) %>%
group_by(pathogen_type, decade_published) %>%
summarize(n = sum(n, na.rm = TRUE), .groups = "drop") %>%
plot_line_mean(
formula = n ~ decade_published,
grouping_var = "pathogen_type",
colors = c("#2F63A1", "#EB75B9", "#6BBBF4", "#EFC000", "grey80", "#107F80", "#A48AD3"),
point_size = 3,
aspect_ratio = 0.5,
x_angle = 45,
show_legend = TRUE,
x_axis_title = "Decade of publication",
y_scale = "log10",
y_axis_title = "Number of study participants"
)
rct %>%
mutate(
n = case_when(
is.na(n_vax) ~ n_control,
is.na(n_control) ~ n_vax,
.default = n_vax + n_control
),
pathogen_type = case_when(
is.na(pathogen_type) ~ "Other/multiple",
#grepl("Bacteria", pathogen_type) & grepl("Virus", pathogen_type) ~ "Bacteria/virus",
grepl(", ", pathogen_type) | pathogen_type == "Fungus" ~ "Other/multiple",
.default = pathogen_type
),
#pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Bacteria/virus", "Mycobacteria", "Fungus", "Parasite", "Other"))
pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Mycobacteria", "Parasite", "Other/multiple"))
) %>%
group_by(pathogen_type, decade_published) %>%
summarize(n = sum(n, na.rm = TRUE), .groups = "drop") %>%
plot_line_mean(
formula = n ~ decade_published,
grouping_var = "pathogen_type",
colors = c("#2F63A1", "#EB75B9", "#6BBBF4", "#EFC000", "grey80", "#107F80", "#A48AD3"),
point_size = 3,
aspect_ratio = 0.5,
x_angle = 45,
show_legend = TRUE,
x_axis_title = "Decade of publication",
y_scale = "log10",
y_axis_title = "Number of study participants"
)
rct %>%
mutate(
n = case_when(
is.na(n_vax) ~ n_control,
is.na(n_control) ~ n_vax,
.default = n_vax + n_control
),
pathogen_type = case_when(
is.na(pathogen_type) ~ "Other/multiple",
#grepl("Bacteria", pathogen_type) & grepl("Virus", pathogen_type) ~ "Bacteria/virus",
grepl(", ", pathogen_type) | pathogen_type == "Fungus" ~ "Other/multiple",
.default = pathogen_type
),
#pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Bacteria/virus", "Mycobacteria", "Fungus", "Parasite", "Other"))
pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Mycobacteria", "Parasite", "Other/multiple"))
) %>%
group_by(pathogen_type, decade_published) %>%
summarize(n = sum(n, na.rm = TRUE), .groups = "drop") %>%
plot_line_mean(
formula = n ~ decade_published,
grouping_var = "pathogen_type",
colors = c("#2F63A1", "#EB75B9", "#6BBBF4", "#EFC000", "#107F80", "#A48AD3"),
point_size = 3,
aspect_ratio = 0.5,
x_angle = 45,
show_legend = TRUE,
x_axis_title = "Decade of publication",
y_scale = "log10",
y_axis_title = "Number of study participants"
)
rct %>%
mutate(
n = case_when(
is.na(n_vax) ~ n_control,
is.na(n_control) ~ n_vax,
.default = n_vax + n_control
),
pathogen_type = case_when(
is.na(pathogen_type) ~ "Other/multiple",
#grepl("Bacteria", pathogen_type) & grepl("Virus", pathogen_type) ~ "Bacteria/virus",
grepl(", ", pathogen_type) | pathogen_type == "Fungus" ~ "Other/multiple",
.default = pathogen_type
),
#pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Bacteria/virus", "Mycobacteria", "Fungus", "Parasite", "Other"))
pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Mycobacteria", "Parasite", "Other/multiple"))
) %>%
group_by(pathogen_type, decade_published) %>%
summarize(n = sum(n, na.rm = TRUE), .groups = "drop") %>%
plot_line_mean(
formula = n ~ decade_published,
grouping_var = "pathogen_type",
colors = c("#2F63A1", "#EB75B9", "#6BBBF4", "#EFC000", "#A48AD3"),
point_size = 3,
aspect_ratio = 0.5,
x_angle = 45,
show_legend = TRUE,
x_axis_title = "Decade of publication",
y_scale = "log10",
y_axis_title = "Number of study participants"
)
rct %>%
mutate(
n = case_when(
is.na(n_vax) ~ n_control,
is.na(n_control) ~ n_vax,
.default = n_vax + n_control
),
pathogen_type = case_when(
is.na(pathogen_type) ~ "Other/multiple",
#grepl("Bacteria", pathogen_type) & grepl("Virus", pathogen_type) ~ "Bacteria/virus",
grepl(", ", pathogen_type) | pathogen_type == "Fungus" ~ "Other/multiple",
.default = pathogen_type
),
#pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Bacteria/virus", "Mycobacteria", "Fungus", "Parasite", "Other"))
pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Mycobacteria", "Parasite", "Other/multiple"))
) %>%
group_by(pathogen_type, decade_published) %>%
summarize(n = sum(n, na.rm = TRUE), .groups = "drop") %>%
plot_line_mean(
formula = n ~ decade_published,
grouping_var = "pathogen_type",
colors = c("#2F63A1", "#EB75B9", "#6BBBF4", "#EFC000", "#107F80"),
point_size = 3,
aspect_ratio = 0.5,
x_angle = 45,
show_legend = TRUE,
x_axis_title = "Decade of publication",
y_scale = "log10",
y_axis_title = "Number of study participants"
)
rct %>%
mutate(
n = case_when(
is.na(n_vax) ~ n_control,
is.na(n_control) ~ n_vax,
.default = n_vax + n_control
),
pathogen_type = case_when(
is.na(pathogen_type) ~ "Other/multiple",
#grepl("Bacteria", pathogen_type) & grepl("Virus", pathogen_type) ~ "Bacteria/virus",
grepl(", ", pathogen_type) | pathogen_type == "Fungus" ~ "Other/multiple",
.default = pathogen_type
),
#pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Bacteria/virus", "Mycobacteria", "Fungus", "Parasite", "Other"))
pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Mycobacteria", "Parasite", "Other/multiple"))
) %>%
group_by(pathogen_type, decade_published) %>%
summarize(n = sum(n, na.rm = TRUE), .groups = "drop") %>%
plot_line_mean(
formula = n ~ decade_published,
grouping_var = "pathogen_type",
colors = c("#2F63A1", "#EB75B9", "#6BBBF4", "#EFC000", "#107F80"),
point_size = 4.5,
aspect_ratio = 0.5,
x_angle = 45,
show_legend = TRUE,
x_axis_title = "Decade of publication",
y_scale = "log10",
y_axis_title = "Number of study participants"
)
rct %>%
mutate(
n = case_when(
is.na(n_vax) ~ n_control,
is.na(n_control) ~ n_vax,
.default = n_vax + n_control
),
pathogen_type = case_when(
is.na(pathogen_type) ~ "Other/multiple",
#grepl("Bacteria", pathogen_type) & grepl("Virus", pathogen_type) ~ "Bacteria/virus",
grepl(", ", pathogen_type) | pathogen_type == "Fungus" ~ "Other/multiple",
.default = pathogen_type
),
#pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Bacteria/virus", "Mycobacteria", "Fungus", "Parasite", "Other"))
pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Mycobacteria", "Parasite", "Other/multiple"))
) %>%
group_by(pathogen_type, decade_published) %>%
summarize(n = sum(n, na.rm = TRUE), .groups = "drop") %>%
plot_line_mean(
formula = n ~ decade_published,
grouping_var = "pathogen_type",
colors = c("#2F63A1", "#EB75B9", "#6BBBF4", "#EFC000", "#107F80"),
point_size = 3,
aspect_ratio = 0.5,
x_angle = 45,
show_legend = TRUE,
x_axis_title = "Decade of publication",
y_scale = "log10",
y_axis_title = "Number of study participants"
)
rct %>%
mutate(
n = case_when(
is.na(n_vax) ~ n_control,
is.na(n_control) ~ n_vax,
.default = n_vax + n_control
),
pathogen_type = case_when(
is.na(pathogen_type) ~ "Other/multiple",
#grepl("Bacteria", pathogen_type) & grepl("Virus", pathogen_type) ~ "Bacteria/virus",
grepl(", ", pathogen_type) | pathogen_type == "Fungus" ~ "Other/multiple",
.default = pathogen_type
),
#pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Bacteria/virus", "Mycobacteria", "Fungus", "Parasite", "Other"))
pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Mycobacteria", "Parasite", "Other/multiple"))
) %>%
group_by(pathogen_type, decade_published) %>%
summarize(n = sum(n, na.rm = TRUE), .groups = "drop") %>%
plot_line_mean(
formula = n ~ decade_published,
grouping_var = "pathogen_type",
colors = c("#2F63A1", "#EB75B9", "#6BBBF4", "#EFC000", "#107F80"),
point_size = 3,
point_border_thickness = 0.5,
aspect_ratio = 0.5,
x_angle = 45,
show_legend = TRUE,
x_axis_title = "Decade of publication",
y_scale = "log10",
y_axis_title = "Number of study participants"
)
rct %>%
mutate(
n = case_when(
is.na(n_vax) ~ n_control,
is.na(n_control) ~ n_vax,
.default = n_vax + n_control
),
pathogen_type = case_when(
is.na(pathogen_type) ~ "Other/multiple",
#grepl("Bacteria", pathogen_type) & grepl("Virus", pathogen_type) ~ "Bacteria/virus",
grepl(", ", pathogen_type) | pathogen_type == "Fungus" ~ "Other/multiple",
.default = pathogen_type
),
#pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Bacteria/virus", "Mycobacteria", "Fungus", "Parasite", "Other"))
pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Mycobacteria", "Parasite", "Other/multiple"))
) %>%
group_by(pathogen_type, decade_published) %>%
summarize(n = sum(n, na.rm = TRUE), .groups = "drop") %>%
plot_line_mean(
formula = n ~ decade_published,
grouping_var = "pathogen_type",
colors = c("#2F63A1", "#EB75B9", "#6BBBF4", "#EFC000", "#107F80"),
point_size = 3,
point_border_thickness = 0.5,
aspect_ratio = 0.75,
x_angle = 45,
show_legend = TRUE,
x_axis_title = "Decade of publication",
y_scale = "log10",
y_axis_title = "Number of study participants"
)
rct %>%
mutate(
n = case_when(
is.na(n_vax) ~ n_control,
is.na(n_control) ~ n_vax,
.default = n_vax + n_control
),
pathogen_type = case_when(
is.na(pathogen_type) ~ "Other/multiple",
#grepl("Bacteria", pathogen_type) & grepl("Virus", pathogen_type) ~ "Bacteria/virus",
grepl(", ", pathogen_type) | pathogen_type == "Fungus" ~ "Other/multiple",
.default = pathogen_type
),
#pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Bacteria/virus", "Mycobacteria", "Fungus", "Parasite", "Other"))
pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Mycobacteria", "Parasite", "Other/multiple"))
) %>%
group_by(pathogen_type, decade_published) %>%
summarize(n = sum(n, na.rm = TRUE), .groups = "drop") %>%
plot_line_mean(
formula = n ~ decade_published,
grouping_var = "pathogen_type",
colors = c("#2F63A1", "#EB75B9", "#6BBBF4", "#EFC000", "#107F80"),
point_size = 3,
point_border_thickness = 0.5,
aspect_ratio = 0.75,
x_angle = 45,
show_legend = TRUE,
x_axis_title = "Decade of publication",
y_scale = "log10",
y_axis_title = "Number of study participants"
) +
theme(legend.position = "bottom")
rct %>%
mutate(
n = case_when(
is.na(n_vax) ~ n_control,
is.na(n_control) ~ n_vax,
.default = n_vax + n_control
),
pathogen_type = case_when(
is.na(pathogen_type) ~ "Other/multiple",
#grepl("Bacteria", pathogen_type) & grepl("Virus", pathogen_type) ~ "Bacteria/virus",
grepl(", ", pathogen_type) | pathogen_type == "Fungus" ~ "Other/multiple",
.default = pathogen_type
),
#pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Bacteria/virus", "Mycobacteria", "Fungus", "Parasite", "Other"))
pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Mycobacteria", "Parasite", "Other/multiple"))
) %>%
group_by(pathogen_type, decade_published) %>%
summarize(n = sum(n, na.rm = TRUE), .groups = "drop") %>%
plot_line_mean(
formula = n ~ decade_published,
grouping_var = "pathogen_type",
colors = c("#2F63A1", "#EB75B9", "#6BBBF4", "#EFC000", "#107F80"),
point_size = 3,
point_border_thickness = 0.5,
aspect_ratio = 0.5,
x_angle = 45,
show_legend = TRUE,
x_axis_title = "Decade of publication",
y_scale = "log10",
y_axis_title = "Number of study participants"
) +
theme(legend.position = "bottom")
rct %>%
mutate(
n = case_when(
is.na(n_vax) ~ n_control,
is.na(n_control) ~ n_vax,
.default = n_vax + n_control
),
pathogen_type = case_when(
is.na(pathogen_type) ~ "Other/multiple",
#grepl("Bacteria", pathogen_type) & grepl("Virus", pathogen_type) ~ "Bacteria/virus",
grepl(", ", pathogen_type) | pathogen_type == "Fungus" ~ "Other/multiple",
.default = pathogen_type
),
#pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Bacteria/virus", "Mycobacteria", "Fungus", "Parasite", "Other"))
pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Mycobacteria", "Parasite", "Other/multiple"))
) %>%
group_by(pathogen_type, decade_published) %>%
summarize(n = sum(n, na.rm = TRUE), .groups = "drop") %>%
plot_line_mean(
formula = n ~ decade_published,
grouping_var = "pathogen_type",
colors = c("#2F63A1", "#EB75B9", "#6BBBF4", "#EFC000", "#107F80"),
point_size = 3,
point_border_thickness = 0.5,
aspect_ratio = 0.5,
x_angle = 45,
show_legend = TRUE,
x_axis_title = "Decade of publication",
y_scale = "log10",
y_axis_title = "Number of study participants"
)
last_plot() %>% preview()
last_plot() %>% preview(w=7)
rct %>%
mutate(
n = case_when(
is.na(n_vax) ~ n_control,
is.na(n_control) ~ n_vax,
.default = n_vax + n_control
),
pathogen_type = case_when(
is.na(pathogen_type) ~ "Other/multiple",
#grepl("Bacteria", pathogen_type) & grepl("Virus", pathogen_type) ~ "Bacteria/virus",
grepl(", ", pathogen_type) | pathogen_type == "Fungus" ~ "Other/multiple",
.default = pathogen_type
),
#pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Bacteria/virus", "Mycobacteria", "Fungus", "Parasite", "Other"))
pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Mycobacteria", "Parasite", "Other/multiple"))
) %>%
group_by(pathogen_type, decade_published) %>%
summarize(n = sum(n, na.rm = TRUE), .groups = "drop") %>%
plot_line_mean(
formula = n ~ decade_published,
grouping_var = "pathogen_type",
colors = c("#2F63A1", "#EB75B9", "#6BBBF4", "#EFC000", "#107F80"),
point_size = 3,
point_border_thickness = 0.5,
aspect_ratio = 0.7,
x_angle = 45,
show_legend = TRUE,
x_axis_title = "Decade of publication",
y_scale = "log10",
y_axis_title = "Number of study participants"
)
last_plot() %>% preview(w=7)
rct %>%
mutate(
pathogen_type = case_when(
is.na(pathogen_type) ~ "Other/multiple",
#grepl("Bacteria", pathogen_type) & grepl("Virus", pathogen_type) ~ "Bacteria/virus",
grepl(", ", pathogen_type) | pathogen_type == "Fungus" ~ "Other/multiple",
.default = pathogen_type
),
#pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Bacteria/virus", "Mycobacteria", "Fungus", "Parasite", "Other"))
pathogen_type = factor(pathogen_type, levels = c("Virus", "Bacteria", "Mycobacteria", "Parasite", "Other/multiple"))
) %>%
count(decade_published, pathogen_type) %>%
plot_line_mean(
formula = n ~ decade_published,
grouping_var = "pathogen_type",
colors = c("#2F63A1", "#EB75B9", "#6BBBF4", "#EFC000", "#107F80"),
point_size = 3,
point_border_thickness = 0.5,
aspect_ratio = 0.7,
x_angle = 45,
show_legend = TRUE,
x_axis_title = "Decade of publication",
y_scale = "log10",
y_axis_title = "Number of study participants"
)
last_plot() %>% preview(w=7)
RM()
